language: cpp
sudo: false

os: linux
dist: bionic

jobs:
  include:

    # Clang on linux

    - name: Clang-10
      stage: Latest
      env: CXX=clang++-10 BUILD_TYPE=Debug
      addons: &clang10
        apt:
          sources:
            - sourceline: 'deb http://apt.llvm.org/bionic/ llvm-toolchain-bionic-10 main'
              key_url: https://apt.llvm.org/llvm-snapshot.gpg.key
          packages:
            - clang-10
            - llvm-10-dev

                #addons:
                #    apt:
                #      packages:
                #        - ninja
                #        - cmake

                #compiler:
                #  - clang
                #  - gcc

script:
  - mkdir build
  - cd build
  - cmake .. -DCMAKE_BUILD_TYPE=${BUILD_TYPE:?}
  - cmake --build . -- -j ${JOBS}

branches:
  only:
    - vara
    - vara-dev
